<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atalhos Rápidos</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f2f2f2;
    }
    h1 {
      text-align: center;
    }
    input, textarea, button {
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .atalhos {
      margin-top: 20px;
    }
    .atalho {
      background-color: #fff;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .botoes {
      margin-top: 10px;
    }
    .botoes button {
      margin-right: 5px;
    }
    #buscarInput {
      width: 100%;
    }
    #nome, #mensagem {
      width: 48%;
    }
    #formulario {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }
    .copiar-btn {
      float: right;
    }
  </style>
</head>
<body>
  <h1>Atalhos Rápidos</h1>

  <div id="formulario">
    <input type="text" id="nome" placeholder="Nome do atalho">
    <textarea id="mensagem" placeholder="Mensagem"></textarea>
    <button onclick="adicionarAtalho()">Adicionar</button>
  </div>

  <input type="text" id="buscarInput" placeholder="Buscar atalhos..." oninput="buscarAtalhos()">

  <div class="atalhos" id="atalhos"></div>

  <script>
    let atalhos = JSON.parse(localStorage.getItem('atalhos')) || {};

    function salvarAtalhos() {
      localStorage.setItem('atalhos', JSON.stringify(atalhos));
    }

    function exibirAtalhos(filtro = '') {
      const container = document.getElementById('atalhos');
      container.innerHTML = '';
      Object.keys(atalhos).forEach(nome => {
        if (nome.toLowerCase().includes(filtro.toLowerCase())) {
          const div = document.createElement('div');
          div.className = 'atalho';
          div.innerHTML = `<strong>${nome}</strong><br><span>${atalhos[nome]}</span>
            <div class="botoes">
              <button onclick="copiarTexto('${nome}')">Copiar</button>
              <button onclick="alterarAtalho('${nome}')">Alterar</button>
              <button onclick="removerAtalho('${nome}')">Remover</button>
            </div>`;
          container.appendChild(div);
        }
      });
    }

    function adicionarAtalho() {
      const nome = document.getElementById('nome').value.trim();
      const mensagem = document.getElementById('mensagem').value.trim();
      if (!nome || !mensagem) return alert('Preencha os dois campos.');
      atalhos[nome] = mensagem;
      salvarAtalhos();
      exibirAtalhos();
      document.getElementById('nome').value = '';
      document.getElementById('mensagem').value = '';
    }

    function copiarTexto(nome) {
      navigator.clipboard.writeText(atalhos[nome])
        .then(() => alert('Mensagem copiada!'))
        .catch(err => console.error('Erro ao copiar', err));
    }

    function alterarAtalho(nomeAntigo) {
      const novoNome = prompt('Novo nome:', nomeAntigo);
      if (!novoNome) return;
      const novaMensagem = prompt('Nova mensagem:', atalhos[nomeAntigo]);
      if (!novaMensagem) return;
      delete atalhos[nomeAntigo];
      atalhos[novoNome] = novaMensagem;
      salvarAtalhos();
      exibirAtalhos();
    }

    function removerAtalho(nome) {
      if (confirm(`Deseja remover o atalho "${nome}"?`)) {
        delete atalhos[nome];
        salvarAtalhos();
        exibirAtalhos();
      }
    }

    function buscarAtalhos() {
      const filtro = document.getElementById('buscarInput').value;
      exibirAtalhos(filtro);
    }

    exibirAtalhos();
  </script>
</body>
</html>
